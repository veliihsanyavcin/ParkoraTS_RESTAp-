{"version":3,"sources":["ts/loginService.ts","ts/account.ts","ts/ticketService.ts","ts/reportService.ts","ts/park.ts","ts/vehicle.ts","ts/typeService.ts","ts/index.ts"],"names":[],"mappings":";;;;;;AOAA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAIA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;ANNA,AGKA,IHLA,ADCa,AIIb,ADDa,ADAA,AIFA,ADAA,cJFb,CGKA,EHLA,CGKA,MHLA,CAAA,AGKA,CAAA,eHLA,CAAA,CGKA,CAAA;AGIA,AFHE,IEGE,OAAO,GAAG,IAAI,CFHJ,KAAZ,EAA2B,CEGX,CAAA,EFHhB,EAA4C,GEGhC,EAAd;AACA,AHJA,ACA8C,IJJjC,AMQT,AHJJ,IGIQ,GAAG,IAAI,IHJf,EGIe,CAAA,AHJf,IGIW,EAAX,CHJA,CAAA,iBAAA,CAAA;AHJA,AMUA,IAAI,WAAW,GAAG,GNVlB,KMU0B,CAAC,cAAT,CAAwB,aAAxB,EAAuC,gBAAvC,CAAwD,OAAxD,EAAiE,KAAjE,CAAlB;ANVA,AMWA,AFNI,IEMA,AHJS,KCFJ,MAAL,CEMY,EFNE,CEMC,IFNf,IEMuB,CAAC,cAAT,CAAwB,cAAxB,EAAwC,gBAAxC,CAAyD,OAAzD,EAAkE,MAAlE,CAAnB;AAEA,AHAE,ACPE,IEOA,KFPK,KAAL,CEOW,EFPE,CEOc,AHA7B,GCPE,CEO+B,aAAA,CAAA,WAAJ,EAA/B;ANXU,AMcV,AHHE,ACNC,SJLO,YAAA,GAA+B,CMchB,GNdoB,cAAA,CAAA,YAAJ,EAA/B;AAiBT,0BDnBS,CEKC,CCAC,GGAA,KNLgB,AEKD,CCAC,SHLgB;AOkB5C,APhBQ,AIOE,ADFF,ADAA,AIAA,SCWC,AHTC,CDFI,ADAA,GIAC,CCWf,AJXkB,ADAA,GKWJ,AJXO,ADAA,CIAD,CAAC,GFEX,GAAiC,IAAI,eAAA,CAAA,KEF3B,EAAkC,MFEX,EAAjC;AGUN,APfI,AIME,ADHY,ADAA,AICV,MCWJ,EJZc,ADAA,AICV,CFEF,IDHiB,ADAA,CKYX,ADXE,CHDU,ADAA,CICR,CCWiB,IDZiB,CFG5C,ADHyB,ADAA,CCAC,ADAA,EKYS,AHTF,CGSG,EJZzB,ADAA,CEG0B,WGSV,CAAwB,GHTd,CAAA,MGSV,CAAjC,MHTuC,EAAjC;AGUN,APfI,AIUL,ADRwC,ADAA,AIEhC,IFQT,EGGM,EJbmC,ADAA,ICAI,ADAA,EKa/B,AJbgC,ADAA,GKaX,IJbkB,ADAA,CCAC,ADAA,GKaX,CAAC,OFH3B,OEGkB,CAAwB,UAAxB,CAAjC;AACA,APfI,AGCa,ADAA,AIGT,ADQR,EEGA,KJdI,ADAA,CIGI,CCWD,CAAC,AFHJ,KEGJ,ADXe,ADQN,CEGK,CDXG,CDQL,KAAK,CEGK,CAAC,CNjBX,GIcA,CEGZ,AFHwB,EEGM,INjBA,CIclB,CAAoB,EEGM,CAAC,GFH3B,EJdkC,AMiB9C,AFHwC,EAA5B,EAAgC,WAAhC,EAAZ;AJZA,AMgBH,APfO,AGCA,ADAA,AIGQ,WLLP,EEEM,ADAA,KCAK,ADAA,CCAC,ADAA,IDFjB,CAAkB,EKKU,GLL5B,CAAwB,QAAxB,EAAkC,QAAlC,EAA4C,CEE5B,ADAA,ECAmC,ADAA,CDFnD,CAAiD,UAAA,QAAQ,EAAG;AAE1D,ADCE,AGAI,ADAA,AICS,ADSjB,QFVQ,ADAA,EGUJ,EJXE,CDCK,CGAG,ADAA,CGUL,CFVO,ADAA,EFAA,AKUJ,CLVK,CCDH,EEAqC,ADAA,EDAjC,IAAhB,EAAsB,oBDCR,EAAkC,mDKUlD;AJTI,AMcR,APdY,AGAA,ADAA,AIH0C,OAAlC,CNGR,AGAA,ADAA,AIHG,CCiBN,ADXE,GHHK,ADAA,CIHD,CLGH,ADAM,AGAA,ADAA,AIGF,CLHH,AMcb,CAAgB,APdI,ECAJ,AEAM,ADAA,CCAC,ADAA,EKcvB,CPfsD,COe1B,CDXZ,CAAC,CLHO,CAAC,CEAP,ADAA,CCAe,ADAA,ICAf,ADAA,CCFqC,ADAA,ODEvC,CAAwB,cAAxB,CAAR;AACA,AMcJ,APdQ,AGAA,ADAA,AIEK,ADOb,EEKA,KAAK,CAAC,APdE,AGAA,ADAA,EDAJ,AISA,CJTC,CAAC,ADAM,EAAE,CGAC,ADAA,AIEE,ADOR,CCPS,ADOR,CJTN,AEAa,ADAA,AIEE,CLFP,ADAM,CAAC,EMEF,ADOb,CEKJ,AFLgB,CCPH,ELFT,EGOQ,ACER,CJTkB,ADAR,CAAe,GKSH,EJTtB,EGOwB,ACE5B,EAAgC;AJP7B,AMaH,APf8B,AIS9B,ADRY,ADAA,AICC,ADQX,MEKE,CDnBO,CAAP,CLCF,CDG4B,COerB,EHNF,CGMuB,AFLtB,CJRC,GDF6B,AIS1B,ACCA,ELVkB,EOeQ,CAAC,AFL/B,CAAU,EFTU,ADAA,EFDC,GIStB,CAAmB,KGMI,CAAwB,AHN/C,CAA0B,MGMH,CAA9B,AHNO,CAAP,0BCCQ,CAAN;AJPE,AMaJ,APhBwC,AIWzC,ADXkB,ADAA,AIIhB,ADOA,MEKG,AHHN,IHVM,ADHoC,KCG/B,CAAC,CMaK,CPhBiC,EOiB5C,APjBoC,QOiB5B,CAAC,cAAT,CAAwB,MNdnB,CAAL,kBMcA,CADJ;ANZG,AMgBH,APpB6B,AGHsB,ADAA,AGgBpD,EEOC,IAAI,CAAC,AJvBW,ADAA,CCAL,ADAA,CFGG,AGIT,ADDE,CFL2C,GOsBlD,AJvBW,ADAA,CKuBC,AJhBF,CDPN,GKuBY,MJhBN,CAAC,EIgBK,CAAA,OAAJ,CAAY,KAAK,CAAC,KAAlB,EAAyB,WAAW,CAAC,KAArC,CAAZ,EAAwE,IAAxE,CAA6E,YAAK;ANfjF,AMgBG,APpBI,AGGG,ADCV,ODVD,CDMQ,OAAO,AGGA,CAAC,CHHC,AGGA,IAAF,EAAJ;AFEZ,AMgBK,APpBQ,AGED,IIkBP,GJzBO,CAAP,OIyBW,WPpBa;AOsB3B,APvBgB,AGKhB,GIcD,qBFtBc,IDgBD,SAAgB;AGYhC,AP5BqD,AIiBjD,AChBD,OLDgB,CAAL,CAON,IAPM,AIiBH,AChBD,CLMG,IIUG,AChBD,MLMF,AKNV,CLMW,MIUH,CAAmB,AFPlB,OEOD,CAA2B,OAA3B,CAAP;AJVU,AIWZ,AFNK,AIrBR,ADWG,OCXH,CAAA,KJqBe,EFLI,CAAC,CAAC,CEKD,CAAC,AIrBrB,ENgBmB,CMhBnB,CNgBe,UMhBf,kBJqBoB,EAAmC;AKkBvD,APvBe,AEMH,OFbG,CAAP,AEaI,CKiBH,KLjBS,EKiBlB,ALjBoB,CKiBH,ILlBsC,GKkBvD,EAAiC,OJnBnB;AIqBV,APxBC,AGKG,ADCG,EKkBP,IAAI,CAAC,MJnBM,CImBX,CAAa,GJnBG,CAAC,GImBjB,EAAsB,IAAtB,CAA2B,YAAK,UJnBhB,EAAmC;AFtBvD,AM2CQ,AJpBI,ADCA,IKmBJ,GN3CR,CAAA,AEuBY,ADCA,MCDM,CFvBlB,AM2CmB,ALnBA,CCDC,CDCC,CDxBrB,GEsBuD,GETtC,CJbjB,OG6BiB;AGeT,AHbN,ADPU,ADCI,AGXZ,IE8BI,SHbC,ACjBE,KDiBG,ACjBE,GE8BS,EF9BrB,GHW4B,KEMvB,CAAmB,SAAnB,EAAP;AGeG,AHZF,ADTS,ADDS,AGTlB,GE0BC,KJhBQ,OAAO,EAAE;AIwBpB,AJvBe,ADLuC,OAAnC,CAAL,CAON,IAPM,CAOD,UAAA,CAAC,CCFiB;AADX,ADGN,eAAI,CAAC,CAAC,IAAF,EAAJ;AKuBf,APpDA,AGuBuD,ADMxC,OF7Bf,AGuBoB,ADDL,CFtBf,AGuBe,ADDP,CK8BC,AJtBA,IAPM,CAOD,MIsBd,APpDA,GOoDoB,APpDpB,CG8Bc,CAAC,QCOI,EJrCnB;AOqDI,AHfA,ADRW,ADAV,MKuBG,KAAK,EHfF,CGeuB,CJvBf,CAAC,CAAC,CCQL,GDRG,CIuBuB,CAAC,AJvB5B,QCQJ,CAAmB,KGeI,CAC1B,IHhBG,EAAP,GGe8B,CAA9B;AAGA,AHhBD,ADVY,EI0BX,KAAK,AJjCM,CIiCL,AJjCF,OIiCJ,CAAc,CAAd,EAAiB,SAAjB,GAA6B,EAA7B;AACA,AJ1BC,AE9BL,EEwDI,IAAI,CAAC,AFxDT,CAAA,OAAA,CEwDI,EFxDJ,CEwDqB,IAAjB,CAAsB,CFxD1B,SEwD0B,UAAU,EAAG;AAC/B,IAAA,UAAU,CAAC,OAAX,CAAmB,UAAA,MAAM,EAAG;AACxB,UAAI,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,CAAd,CAAZ;AACA,UAAI,MAAM,GAAG,KAAK,CAAC,SAAN,EAAb;AACA,AL1DZ,OAAA,CAAA,EK0DgB,KAAK,GAAG,GL1DxB,GK0D8B,AL1D9B,CK0D+B,UAAP,CAAkB,CAAlB,AL1DxB,CK0DY;AACA,AHtDZ,MGsDY,CHtDZ,CAAA,GGsDiB,CAAC,AHtDlB,GAAA,IAAA,EGsDY,GAAkB,MAAM,CAAC,OAAP,CAAe,KAAjC;AACA,AJ5DZ,OAAA,CAAA,EI4DgB,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","file":"ts.841fc46b.js","sourceRoot":"..","sourcesContent":["\r\nexport class LoginService {\r\n    login(username: string, password: string): Promise<boolean>{\r\n        \r\n        // todo POST işlemi yapacak responsu return edecek (\"POST: /login: boolean)\r\n       \r\n        // let xhr = new XMLHttpRequest();\r\n        // xhr.open('POST','https://localhost:44333/login',false);\r\n        // xhr.send(JSON.stringify({username, password}));\r\n        // return JSON.parse(xhr.responseText);\r\n\r\n        return fetch('https://localhost:44333/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify({username, password}),\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => r.json());\r\n    }\r\n}","import { LoginService } from \"./loginService\";\r\n\r\nexport class Account {\r\n\r\n  private loginService : LoginService  = new LoginService();\r\n  \r\n   public login(username: string, password: string) {\r\n    \r\n    this.loginService.login(username, password).then(canLogin => {\r\n    \r\n      if (canLogin == true) {\r\n\r\n        var x = document.getElementById(\"login-screen\") as HTMLDivElement;\r\n        x.style.display = \"none\";\r\n\r\n      } else {\r\n        alert(\"Kullanıcı adı veya şifre hatalı!\");\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { Ticket } from \"./ticket\";\r\nimport { Vehicle } from \"./vehicle\";\r\nimport { VehicleType } from \"./vehicletype\";\r\n\r\nexport class TicketService {\r\n   \r\n\r\n    parkIn(vehicle: Vehicle) : Promise<void> {\r\n      \r\n        const body = {plate:vehicle.plate, type:vehicle.type};\r\n        return fetch('https://localhost:44333/ticket', {\r\n            method: 'POST',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        }).then(); \r\n\r\n    }\r\n\r\n   \r\n    getParkIn() : Promise<Ticket[]>  {\r\n        \r\n        return fetch('https://localhost:44333/ticket', {\r\n            method: 'GET',\r\n           // body: \"\",\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => r.json());  \r\n    }\r\n\r\n   \r\n\r\n}","import { Ticket } from \"./ticket\";\r\nimport { Vehicle } from \"./vehicle\";\r\nimport { VehicleType } from \"./vehicletype\";\r\n\r\nexport class ReportService {\r\n   \r\n\r\n    parkOut(vehicle: Vehicle) : Promise<void> {\r\n      \r\n        const body = {plate:vehicle.plate, type:vehicle.type};\r\n        return fetch('https://localhost:44333/report', {\r\n            method: 'POST',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => r.json());  \r\n    \r\n    }\r\n\r\n   \r\n    getParkOut() : Promise<Ticket[]>{\r\n        \r\n        return fetch('https://localhost:44333/report', {\r\n            method: 'GET',\r\n            //body: JSON.stringify(ticket),\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        })\r\n        .then(r => r.json());  \r\n    }\r\n\r\n    // getParkOutList():Promise<Ticket[]>{\r\n        \r\n    //     return fetch('https://localhost:44333/ticket', {\r\n    //         method: 'GET',\r\n           \r\n    //         headers: {\r\n    //             'content-type': 'application/json'\r\n    //         }\r\n    //     })\r\n    //     .then(r => r.json());  \r\n    // }\r\n\r\n}","import { Recipe } from \"./recipe\";\r\nimport { Slot } from \"./slot\";\r\nimport { Ticket } from \"./ticket\";\r\nimport { Vehicle } from \"./vehicle\";\r\nimport { VehicleType } from \"./vehicletype\";\r\nimport { TicketService } from \"./ticketService\";\r\nimport { ReportService } from \"./reportService\";\r\n\r\n\r\nexport class Park {\r\n\r\n  private ticketService : TicketService  = new TicketService();\r\n  private reportService : ReportService  = new ReportService();\r\n\r\n  \r\n  constructor() {\r\n    \r\n  }\r\n\r\n  // Parka giriş için kullnılan metod\r\n  public parkIn(vehicle: Vehicle) : Promise<void> {\r\n  \r\n    return this.ticketService.parkIn(vehicle);\r\n    \r\n  }\r\n\r\n  // Parktan çıkış için kullnılan metod\r\n  public parkOut(vehicle: Vehicle): Promise<void>{\r\n     return this.reportService.parkOut(vehicle);\r\n  }\r\n\r\n public getParkIn(): Promise<Ticket[]>{\r\n    \r\n  return this.ticketService.getParkIn();\r\n\r\n  \r\n  }\r\n\r\n  public getParkOut(): Promise<Ticket[]>{\r\n    return this.reportService.getParkOut();\r\n   \r\n  }\r\n}\r\n","import { VehicleType } from \"./vehicletype\";\r\n\r\nexport class Vehicle {\r\n  private _plate: string;\r\n  private _type: VehicleType;\r\n\r\n  constructor(plate: string, type: VehicleType) {\r\n    this._plate = plate;\r\n    this._type = type;\r\n  }\r\n\r\n  public get plate() {\r\n    return this._plate;\r\n  }\r\n\r\n  public get type() {\r\n    return this._type;\r\n  }\r\n\r\n  public checkPlate() {\r\n    var plate = this._plate.replace(/\\s+/g, \"\").toUpperCase();\r\n    var regex = /^(0[1-9]|[1-7][0-9]|8[01])(([A-Z])(\\d{4,5})|([A-Z]{2})(\\d{3,4})|([A-Z]{3})(\\d{2}))$/;\r\n    if (plate.match(regex) == null) {\r\n      throw new Error(\"PLAKAYI HATALI GİRDİNİZ.LÜTFEN TEKRAR DENEYİNİZ\");\r\n    }\r\n  \r\n  }\r\n}","import { VehicleType } from \"./vehicletype\";\r\n\r\nexport class TypeService {\r\n   \r\n\r\n   \r\n   \r\n    getTypes() : Promise<string[]> {\r\n        \r\n        return fetch('https://localhost:44333/types', {\r\n            method: 'GET',\r\n           // body: \"\",\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        }).then(r => r.json());\r\n       \r\n    }\r\n \r\n   \r\n\r\n}","import { Account } from \"./account\";\r\nimport { Park } from \"./park\";\r\nimport { Vehicle } from \"./vehicle\";\r\nimport { VehicleType } from \"./vehicletype\";\r\nimport { Ticket } from \"./ticket\";\r\nimport { Slot } from \"./slot\";\r\nimport { TypeService } from \"./typeService\";\r\n\r\n\r\nvar account = new Account();\r\nvar park = new Park();\r\n\r\nvar loginButton = document.getElementById(\"loginbutton\").addEventListener(\"click\", login);\r\nvar parkInButton = document.getElementById(\"parkInButton\").addEventListener(\"click\", parkIn);\r\n\r\nvar typeService: TypeService = new TypeService();\r\n\r\n\r\nfillVehicleTypeSelectList();\r\n\r\nfunction login() {\r\n    let userName = <HTMLInputElement>document.getElementById(\"username\");\r\n    let password = <HTMLInputElement>document.getElementById(\"password\");\r\n    account.login(userName.value, password.value);\r\n}\r\n\r\nfunction parkIn(event: Event) {\r\n    event.preventDefault();\r\n    let plate = <HTMLInputElement>document.getElementById(\"plate\");\r\n    let vehicleType = <HTMLInputElement>(\r\n        document.getElementById(\"vehicleTypeParentSelect\")\r\n    );\r\n\r\n    park.parkIn(new Vehicle(plate.value, vehicleType.value as VehicleType)).then(() => {\r\n        debugger;\r\n        refreshList();\r\n\r\n    });\r\n\r\n}\r\n\r\nfunction parkOut(vehicle: Vehicle) {\r\n\r\n    park.parkOut(vehicle).then(() => {\r\n\r\n        refreshList();\r\n        refreshReportList();\r\n\r\n    });\r\n\r\n\r\n}\r\n\r\nfunction refreshList() {\r\n    var table: HTMLTableElement = document.getElementById(\r\n        \"carlist\"\r\n    ) as HTMLTableElement;\r\n    table.tBodies[1].innerHTML = \"\";\r\n    park.getParkIn().then(ticketList => {\r\n        ticketList.forEach(ticket => {\r\n            var tbody = table.tBodies[1];\r\n            var newRow = tbody.insertRow();\r\n            let cell1 = newRow.insertCell(0);\r\n            cell1.innerHTML = ticket.vehicle.plate;\r\n            let cell2 = newRow.insertCell(1);\r\n            cell2.innerHTML = ticket.vehicle.type.toString();\r\n            let cell3 = newRow.insertCell(2);\r\n            cell3.innerHTML = ticket.timeIn.toString();\r\n            let cell4 = newRow.insertCell(3);\r\n            cell4.innerHTML = `<button style=\"color:red\" id=\"delete_btn_${ticket.vehicle.plate\r\n                }\">ARAÇ ÇIKIŞ</button>`;\r\n            var parkOutButton = document.getElementById(\r\n                `delete_btn_${ticket.vehicle.plate}`\r\n            );\r\n            parkOutButton.addEventListener(\"click\", () => parkOut(ticket.vehicle));\r\n        });\r\n\r\n    });\r\n\r\n}\r\n\r\nfunction refreshReportList() {\r\n    var table: HTMLTableElement = document.getElementById(\r\n        \"carlist1\"\r\n    ) as HTMLTableElement;\r\n    table.tBodies[1].innerHTML = \"\";\r\n    //var parkOutList: Ticket[] = park.getParkOut();\r\n    park.getParkOut().then(parkOutList => {\r\n        parkOutList.forEach(\r\n            ticket => {\r\n                debugger\r\n                var tbody = table.tBodies[1];\r\n                var newRow = tbody.insertRow();\r\n                let cell1 = newRow.insertCell(0);\r\n                cell1.innerHTML = ticket.vehicle.plate;\r\n                let cell2 = newRow.insertCell(1);\r\n                cell2.innerHTML = ticket.vehicle.type.toString();\r\n                let cell3 = newRow.insertCell(2);\r\n                cell3.innerHTML = ticket.timeIn.toString();\r\n                let cell4 = newRow.insertCell(3);\r\n                cell4.innerHTML = ticket.timeOut.toString();\r\n                let cell5 = newRow.insertCell(4);\r\n                cell5.innerHTML =\r\n                    (\r\n                        ticket.timeOut.getSeconds() - ticket.timeIn.getSeconds()\r\n                    ).toString() + \" Sn\";\r\n                let cell6 = newRow.insertCell(5);\r\n                cell6.innerHTML = ticket.cost.toString() + \" Tl\";\r\n            }\r\n        );\r\n\r\n        // var table: HTMLTableElement = document.getElementById(\r\n        //     \"carlist2\"\r\n        // ) as HTMLTableElement;\r\n        // table.tBodies[1].innerHTML = \"\";\r\n        // var tbody = table.tBodies[1];\r\n        // let genelAdet = 0;\r\n        // let genelSure = 0;\r\n        // let genelCost = 0;\r\n\r\n        // for (let vehicleType in VehicleType) {\r\n\r\n        //     let vehicleTypes = (park.getParkOut()).then(tickets => {tickets.filter(x => x.vehicle.type === vehicleType)});\r\n        //     let totalSecond = 0;\r\n        //     let totalCost = 0;\r\n        //     vehicleTypes.forEach(x => {\r\n        //         totalSecond += x.timeOut.getSeconds() - x.timeIn.getSeconds();\r\n        //         totalCost += x.cost;\r\n        //     });\r\n\r\n        //     var newRow = tbody.insertRow();\r\n        //     let cell1 = newRow.insertCell(0);\r\n        //     cell1.innerHTML = vehicleType;\r\n        //     let cell2 = newRow.insertCell(1);\r\n        //     cell2.innerHTML = vehicleTypes.length.toString();\r\n        //     let cell4 = newRow.insertCell(2);\r\n        //     cell4.innerHTML = totalSecond.toString();\r\n        //     let cell5 = newRow.insertCell(3);\r\n        //     cell5.innerHTML = totalCost.toString();\r\n\r\n        //     genelAdet += vehicleTypes.length;\r\n        //     genelSure += totalSecond;\r\n        //     genelCost += totalCost;\r\n\r\n        // }\r\n\r\n        // var newRow2 = tbody.insertRow();\r\n        // let cell16 = newRow2.insertCell(0);\r\n        // cell16.innerHTML = '<h3 style=\"color:red;\">Toplam</h3>'\r\n        // let cell2 = newRow2.insertCell(1);\r\n        // cell2.innerHTML = genelAdet.toString();\r\n        // let cell3 = newRow2.insertCell(2);\r\n        // cell3.innerHTML = genelSure.toString();\r\n        // let cell4 = newRow2.insertCell(3);\r\n        // cell4.innerHTML = genelCost.toString();\r\n\r\n\r\n    });\r\n\r\n\r\n}\r\n\r\nfunction fillVehicleTypeSelectList(): void {\r\n    let vehicleTypeParent = document.getElementById(\"selectlist\");\r\n    let selectVehicleTypeList = document.createElement(\"select\");\r\n    selectVehicleTypeList.id = \"vehicleTypeParentSelect\";\r\n    selectVehicleTypeList.innerHTML = `<option value=\"none\" selected disabled hidden>Araç Tipi Seçiniz`;\r\n    vehicleTypeParent.appendChild(selectVehicleTypeList);\r\n\r\n    typeService.getTypes().then(types => {\r\n        types.forEach(type=>{\r\n            let option = document.createElement(\"option\");\r\n            option.text = type;\r\n            selectVehicleTypeList.appendChild(option);\r\n        });\r\n    });\r\n}\r\n"]}